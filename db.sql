-- Вставка данных
INSERT INTO users (user_id, user_name, birthday) VALUES
(1, 'Alice', '1990-05-15'),
(2, 'Bob', '1985-10-22'),
(3, 'Charlie', '1995-03-08'),
(4, 'David', '1988-12-17'),
(5, 'Eve', '1992-07-03'),
(6, 'Frank', '1984-09-28'),
(7, 'Grace', '1997-11-12'),
(8, 'Helen', '1983-06-30'),
(9, 'Ivan', '1991-04-19'),
(10, 'Jane', '1987-08-05'),
(11, 'Kevin', '1994-01-24'),
(12, 'Lily', '1989-02-11'),
(13, 'Mike', '1998-06-18'),
(14, 'Nancy', '1986-03-27'),
(15, 'Olivia', '1993-10-09'),
(16, 'Peter', '1981-07-14'),
(17, 'Quinn', '1996-04-02'),
(18, 'Rachel', '1982-12-21'),
(19, 'Sam', '1980-08-17'),
(20, 'Tom', '1999-02-03'),
(21, 'Ursula', '1985-05-20'),
(22, 'Victor', '1990-11-28'),
(23, 'Wendy', '1988-09-06'),
(24, 'Xavier', '1983-04-13'),
(25, 'Yvonne', '1992-01-31'),
(26, 'Zelda', '1987-08-08'),
(27, 'Adam', '1981-12-25'),
(28, 'Beth', '1995-07-02'),
(29, 'Chris', '1989-03-19'),
(30, 'Dana', '1984-10-26'),
(31, 'Eric', '1996-08-14'),
(32, 'Fiona', '1980-04-03'),
(33, 'George', '1994-09-21'),
(34, 'Hannah', '1986-01-18'),
(35, 'Isaac', '1983-11-05'),
(36, 'Julia', '1990-06-22'),
(37, 'Keith', '1988-03-11'),
(38, 'Lisa', '1999-05-28'),
(39, 'Matthew', '1985-02-15'),
(40, 'Nina', '1993-10-02'),
(41, 'Oscar', '1981-07-19'),
(42, 'Paula', '1997-12-16'),
(43, 'Quentin', '1984-09-23'),
(44, 'Rita', '1992-11-10'),
(45, 'Samantha', '1987-06-27'),
(46, 'Tim', '1980-08-04'),
(47, 'Uma', '1991-03-01'),
(48, 'Vincent', '1989-12-08'),
(49, 'Walter', '1995-02-25'),
(50, 'Xena', '1982-10-13'),
(51, 'Yolanda', '1988-05-30'),
(52, 'Zack', '1993-01-17'),
(53, 'Abigail', '1986-04-04'),
(54, 'Benjamin', '1990-11-21'),
(55, 'Catherine', '1981-09-08'),
(56, 'Daniel', '1996-07-16'),
(57, 'Emily', '1984-02-02'),
(58, 'Felix', '1991-04-20'),
(59, 'Gina', '1987-12-07'),
(60, 'Henry', '1982-06-24'),
(61, 'Irene', '1994-03-13'),
(62, 'Jake', '1989-10-30'),
(63, 'Katie', '1992-08-17'),
(64, 'Liam', '1980-05-04'),
(65, 'Megan', '1985-01-21'),
(66, 'Nathan', '1998-09-27'),
(67, 'Oliver', '1983-11-14'),
(68, 'Pamela', '1995-06-01'),
(69, 'Quincy', '1986-02-18'),
(70, 'Rachel', '1991-12-06'),
(71, 'Steve', '1988-07-23'),
(72, 'Tina', '1980-10-10'),
(73, 'Uriel', '1993-07-28'),
(74, 'Victoria', '1981-04-15'),
(75, 'William', '1990-02-01'),
(76, 'Xander', '1987-09-19'),
(77, 'Yvette', '1994-05-08'),
(78, 'Zara', '1983-12-25'),
(79, 'Aaron', '1999-08-11'),
(80, 'Bella', '1985-03-30'),
(81, 'Charlie', '1991-01-16'),
(82, 'David', '1988-10-03'),
(83, 'Ella', '1996-07-20'),
(84, 'Frank', '1984-04-06'),
(85, 'Gwen', '1992-12-23'),
(86, 'Harry', '1981-10-11'),
(87, 'Ivy', '1995-02-28'),
(88, 'Jack', '1986-11-15'),
(89, 'Kara', '1990-09-03'),
(90, 'Lena', '1983-06-20'),
(91, 'Max', '1980-03-08'),
(92, 'Nora', '1997-10-26'),
(93, 'Owen', '1982-08-12'),
(94, 'Penny', '1989-05-29'),
(95, 'Quinn', '1994-01-15'),
(96, 'Riley', '1987-07-02'),
(97, 'Sara', '1991-04-20'),
(98, 'Tommy', '1985-12-07'),
(99, 'Ulysses', '1999-09-24'),
(100, 'Vera', '1981-06-10');

SELECT *,
EXTRACT(YEAR FROM birthday) :: INTEGER,
MAKE_INTERVAL(EXTRACT(YEAR FROM CURRENT_DATE) :: INTEGER-EXTRACT(YEAR FROM birthday) :: INTEGER),
(birthday+MAKE_INTERVAL(EXTRACT(YEAR FROM CURRENT_DATE) :: INTEGER-EXTRACT(YEAR FROM birthday) :: INTEGER)) :: DATE AS curr_year_birthday,
(birthday+MAKE_INTERVAL(EXTRACT(YEAR FROM CURRENT_DATE) :: INTEGER-EXTRACT(YEAR FROM birthday) :: INTEGER)) :: DATE - CURRENT_DATE AS diff
FROM users
SELECT now() - INTERVAL '6 months 2 hours 30 minutes'



SELECT birthday, concat(
		extract(year from current_date),
		extract(month from birthday),
		extract(day from birthday)),
		extract(year from current_date),
		extract(month from birthday),
		extract(day from birthday) :: text,
		date(birthday + (EXTRACT(YEAR FROM current_date)-EXTRACT(YEAR FROM birthday) || ' years')::interval)
FROM users